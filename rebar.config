{erl_opts, [
    native,
    {hipe, o3},
    fail_on_warning
]}.

{deps,
    [
        {cowboy, {git, "https://github.com/ninenines/cowboy.git", {tag, "2.0.0-pre.9"}}},
        {ranch, {git, "https://github.com/ninenines/ranch.git", {tag, "1.3.0"}}},
        {elib, {git, "https://github.com/shuieryin/elib.git", {branch, "master"}}},
        {recon, {git, "https://github.com/ferd/recon.git", {tag, "2.3.1"}}}
    ]}.

{relx,
    [
        {
            release, {run_command, "0.1.0"},
            [
                sasl,
                run_command,
                {observer, load},
                {elib, load},
                {wx, load},
                {runtime_tools, load},
                {dialyzer, load}
            ]
        },
        {dev_mode, false},
        {include_make, true},
        {system_libs, false},
        {extended_start_script, true},
        {vm_args, "config/vm.args"},
        {sys_config, "config/sys.config"},
        {overlay, [
            {mkdir, "log/sasl"},
            {copy, "priv", "priv"}
        ]}
    ]}.

{profiles,
    [
        {prod,
            [
                {
                    relx,
                    [
                        {dev_mode, false},
                        {include_erts, true}
                    ]
                }
            ]
        }
    ]}.

{plugins,
    [
        {ehcu, {git, "https://github.com/shuieryin/ehcu.git", {branch, "master"}}}
    ]}.

{minimum_otp_vsn, "19"}.